"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
exports.__esModule = true;
exports.listenMockServer = exports.MOCK_SERVER_URL = exports.stop = exports.start = void 0;
// eslint-disable-next-line import/no-extraneous-dependencies
var nock_1 = __importDefault(require("nock"));
var start = function () {
    if (!nock_1["default"].isActive())
        nock_1["default"].activate();
    nock_1["default"].disableNetConnect();
    return nock_1["default"];
};
exports.start = start;
var stop = function () {
    if (nock_1["default"].isActive()) {
        nock_1["default"].cleanAll();
        nock_1["default"].abortPendingRequests();
        nock_1["default"].restore();
    }
    return nock_1["default"];
};
exports.stop = stop;
exports.MOCK_SERVER_URL = 'https://platform-api.securityscorecard.mock';
var listenMockServer = function (config) {
    return (0, exports.start)()((config === null || config === void 0 ? void 0 : config.serverUrl) || exports.MOCK_SERVER_URL, config === null || config === void 0 ? void 0 : config.options);
};
exports.listenMockServer = listenMockServer;
//# sourceMappingURL=nock.js.map